(function(e){function t(t){for(var n,s,a=t[0],u=t[1],l=t[2],p=0,d=[];p<a.length;p++)s=a[p],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);c&&c(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,a=1;a<r.length;a++){var u=r[a];0!==i[u]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},i={app:0},o=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/project name/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var c=u;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("85ec"),i=r.n(n);i.a},"136e":function(e,t,r){"use strict";var n=r("797c"),i=r.n(n);i.a},"2fb3":function(e,t,r){"use strict";var n=r("436d"),i=r.n(n);i.a},"32aa":function(e,t,r){"use strict";var n=r("eb09"),i=r.n(n);i.a},"376e":function(e,t,r){},"38fa":function(e,t,r){"use strict";var n=r("3d62"),i=r.n(n);i.a},"3bd7":function(e,t,r){"use strict";var n=r("376e"),i=r.n(n);i.a},"3d62":function(e,t,r){},"436d":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=r("1dce"),o=r.n(i),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app"},[r("Form",{staticClass:"app__form",attrs:{worker:e.workerForEditing},on:{createWorker:e.addWorker}}),r("WorkersList",{staticClass:"app__workers-list",attrs:{workers:e.getAllWorkers},on:{"edit-event":e.editWorker,"delete-event":e.deleteWorker}})],1)},a=[],u=r("5530"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.submitHandler(t)}}},[r("h3",{staticClass:"header-text"},[e._v("Форма создания / редактирования сотрудника")]),r("InputField",{staticClass:"form__input-field",attrs:{id:"name",type:"text",lable:"Фамилия Имя",error:e.nameErrorText},model:{value:e.name,callback:function(t){e.name="string"===typeof t?t.trim():t},expression:"name"}}),r("InputField",{staticClass:"form__input-field",attrs:{id:"position",type:"text",lable:"Должность",error:e.positionErrorText},model:{value:e.position,callback:function(t){e.position="string"===typeof t?t.trim():t},expression:"position"}}),r("InputField",{staticClass:"form__input-field",attrs:{id:"email",lable:"Email",error:e.emailErrorText},model:{value:e.email,callback:function(t){e.email="string"===typeof t?t.trim():t},expression:"email"}}),r("InputField",{staticClass:"form__input-field",attrs:{id:"phone",type:"text",lable:"Телефон",error:e.phoneErrorText},model:{value:e.phone,callback:function(t){e.phone="string"===typeof t?t.trim():t},expression:"phone"}}),r("Button",{staticClass:"form__button",attrs:{type:"submit"}},[e._v("Сохранить")])],1)},c=[],p=(r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{class:["button",{button_color_green:"green"==e.color,button_color_blue:"blue"==e.color,button_color_red:"red"==e.color,button_square:e.isSquare}],on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)}),d=[],f={name:"Button",props:{color:{type:String,default:"green"},isSquare:Boolean}},h=f,m=(r("2fb3"),r("2877")),k=Object(m["a"])(h,p,d,!1,null,"db94698a",null),b=k.exports,v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:["input-container",{"input-container_with-error":e.isErrorVisible}]},[e.lable?r("label",{staticClass:"text lable",attrs:{for:e.id}},[e._v(e._s(e.lable))]):e._e(),r("input",{class:["input","input-container__input",{input_backlight_error:e.isErrorVisible}],attrs:{id:e.id,type:e.type},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),r("p",{staticClass:"input-container__error"},[e._v(e._s(e.errorText))])])},_=[],w={name:"InputField",props:{value:{type:String,required:!0},type:{type:String,default:"text"},id:{type:String,required:!0},lable:String,error:String},data:function(){return{errorText:this.error}},computed:{isErrorVisible:function(){return this.error}},watch:{error:function(e){e&&(this.errorText=e)}}},g=w,x=(r("38fa"),Object(m["a"])(g,v,_,!1,null,"c7e602c2",null)),y=x.exports,$=r("b5ae"),W=(r("4de4"),r("ac1f"),r("466d"),r("1276"),function(e){var t=e.split(" ").filter((function(e){return e.length>0}));return 2===t.length}),E=function(e){var t=e.match(/^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s./0-9]*$/g);return t||!1},q={name:"Form",props:{worker:Object},data:function(){return{email:this.worker?this.worker.email:"",name:this.worker?this.worker.name:"",position:this.worker?this.worker.position:"",phone:this.worker?this.worker.phone:"",id:this.worker?this.worker.id:null,requiredErrorText:"Поле необходимо заполнить"}},validations:{email:{email:$["email"],required:$["required"]},name:{required:$["required"],mustBeTwoWords:W},position:{required:$["required"],minLength:Object($["minLength"])(5)},phone:{required:$["required"],phoneCheck:E}},computed:{positionErrorText:function(){if(!this.$v.position.$dirty)return"";switch(!1){case this.$v.position.required:return this.requiredErrorText;case this.$v.position.minLength:return"Минимальная длина ".concat(this.$v.position.$params.minLength.min," символов");default:return""}},nameErrorText:function(){if(!this.$v.name.$dirty)return"";switch(!1){case this.$v.name.required:return this.requiredErrorText;case this.$v.name.mustBeTwoWords:return"Должено состоять из двух слов";default:return""}},emailErrorText:function(){if(!this.$v.email.$dirty)return"";switch(!1){case this.$v.email.required:return this.requiredErrorText;case this.$v.email.email:return"Email должен быть коректным";default:return""}},phoneErrorText:function(){if(!this.$v.phone.$dirty)return"";switch(!1){case this.$v.phone.required:return this.requiredErrorText;case this.$v.phone.phoneCheck:return"Номер должен быть коректным";default:return""}}},watch:{worker:function(e){e&&(this.email=e.email,this.name=e.name,this.position=e.position,this.phone=e.phone,this.id=e.id)}},methods:{submitHandler:function(){this.$v.$invalid?this.$v.$touch():(this.$emit("createWorker",{email:this.email,name:this.name,position:this.position,phone:this.phone,id:this.id}),this.email="",this.name="",this.position="",this.phone="",this.id=null,this.$v.$reset())}},components:{Button:b,InputField:y}},C=q,O=(r("136e"),Object(m["a"])(C,l,c,!1,null,"d87fcf18",null)),j=O.exports,T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"workers-list"},[r("h3",{staticClass:"header-text workers-list__header-text"},[e._v("Список сотрудников")]),e._l(e.workers,(function(t){return r("Worker",e._g({key:t.id,staticClass:"workers-list__worker",attrs:{id:t.id,name:t.name,position:t.position,email:t.email,phone:t.phone}},e.$listeners))}))],2)},S=[],F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"worker"},[r("header",{staticClass:"worker__header"},[r("p",{staticClass:"text worker__name"},[e._v(e._s(e.name))]),r("div",[r("Button",{staticClass:"worker__button",attrs:{color:"blue",isSquare:"",title:"Редактировать"},on:{click:function(t){return e.$emit("edit-event",e.id)}}}),r("Button",{staticClass:"worker__button",attrs:{color:"red",isSquare:"",title:"Удалить"},on:{click:function(t){return e.$emit("delete-event",e.id)}}})],1)]),r("p",{staticClass:"text"},[e._v("Должность: "+e._s(e.position))]),r("p",{staticClass:"text"},[e._v(e._s("Email: "+e.email+" | Телефон: "+e.phone))])])},B=[],I=(r("a9e3"),{name:"Worker",props:{id:{type:Number,required:!0},name:String,position:String,email:String,phone:String},components:{Button:b}}),P=I,L=(r("32aa"),Object(m["a"])(P,F,B,!1,null,"3b47ea09",null)),A=L.exports,M={name:"WorkersList",props:{workers:{type:Array,required:!0}},components:{Worker:A}},V=M,H=(r("3bd7"),Object(m["a"])(V,T,S,!1,null,"f9dac41e",null)),J=H.exports,z=r("2f62"),D={name:"App",data:function(){return{workerForEditing:null}},computed:Object(z["b"])(["getAllWorkers","getWorkerById"]),methods:Object(u["a"])(Object(u["a"])({},Object(z["c"])(["createWorker","updateWorker","deleteWorker"])),{},{addWorker:function(e){this.workerForEditing=null,e.id||0===e.id?this.updateWorker(e):this.createWorker(e)},editWorker:function(e){this.workerForEditing=this.getWorkerById(e)}}),components:{Form:j,WorkersList:J}},N=D,G=(r("034f"),Object(m["a"])(N,s,a,!1,null,null,null)),K=G.exports,Q=(r("7db0"),{state:{lastId:0,workers:[{name:"Юрий Казанок",email:"kazan@lala.com",phone:"+380631112233",position:"Директор",id:-1},{name:"Юлия Бажанова",email:"bb333@lala.com",phone:"0631112233",position:"Санитар",id:-2}]},mutations:{createWorker:function(e,t){var r=t.email,n=t.name,i=t.position,o=t.phone;console.log(r,n,i,o),e.workers.push({email:r,name:n,position:i,phone:o,id:e.lastId++})},updateWorker:function(e,t){var r=t.id,n=t.email,i=t.name,o=t.position,s=t.phone,a=e.workers.find((function(e){return e.id===r}));a.email=n,a.name=i,a.position=o,a.phone=s},deleteWorker:function(e,t){e.workers=e.workers.filter((function(e){return e.id!==t}))}},getters:{getAllWorkers:function(e){return e.workers},getWorkerById:function(e,t){return function(e){return t.getAllWorkers.find((function(t){return t.id===e}))}}}});n["a"].use(z["a"]);var R=new z["a"].Store({modules:{workers:Q}});n["a"].use(o.a),n["a"].config.productionTip=!1,new n["a"]({store:R,render:function(e){return e(K)}}).$mount("#app")},"797c":function(e,t,r){},"85ec":function(e,t,r){},eb09:function(e,t,r){}});
//# sourceMappingURL=app.eec84342.js.map